<!doctype html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en"> <![endif]-->
<html class="no-js" lang="en" data-useragent="Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title></title>

  <meta name="description"
        content="Bolt Protocol - a highly efficient, lightweight messaging protocol for databases"/>

  <link rel="canonical" href="https://boltprotocol.org/v1/serialization.html" />

  <meta name="copyright" content="Creative Commons 3.0 Attribution-ShareAlike"/>

  <link rel="stylesheet" href="/css/foundation.css"/>
  <link rel="stylesheet" href="/css/asciidoctor.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/coderay.css"/>

  <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/images/apple-touch-icon-57x57.png" />
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114.png" />
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72.png" />
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144.png" />
  <link rel="apple-touch-icon-precomposed" sizes="60x60" href="/images/apple-touch-icon-60x60.png" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/images/apple-touch-icon-120x120.png" />
  <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/images/apple-touch-icon-76x76.png" />
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/images/apple-touch-icon-152x152.png" />
  <link rel="icon" type="image/png" href="/images/favicon-196x196.png" sizes="196x196" />
  <link rel="icon" type="image/png" href="/images/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16" />
  <link rel="icon" type="image/png" href="/images/favicon-128.png" sizes="128x128" />
  <meta name="application-name" content="&nbsp;"/>
  <meta name="msapplication-TileColor" content="#FFFFFF" />
  <meta name="msapplication-TileImage" content="/images/mstile-144x144.png" />
  <meta name="msapplication-square70x70logo" content="/images/mstile-70x70.png" />
  <meta name="msapplication-square150x150logo" content="/images/mstile-150x150.png" />
  <meta name="msapplication-wide310x150logo" content="/images/mstile-310x150.png" />
  <meta name="msapplication-square310x310logo" content="/images/mstile-310x310.png" />

  <script src="/js/vendor/modernizr.js"></script>
  <script src="/js/toc.js"></script>
</head>
<body>

<nav class="top-bar" data-topbar>
  <ul class="title-area">
    <!-- Title Area -->
    <li class="name">
      <h1><a href="/">Bolt Protocol</a></h1>
    </li>
    <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
  </ul>

  <section class="top-bar-section">
    <ul class="left">
      <li class="has-dropdown name">
        <h1>
          <a href="/v1/">Version 1</a>
        </h1>
        <ul class="dropdown">
          <li><a href="/v1/#overview">Overview</a></li>
          <li><a href="/v1/#transport">Transport Layer</a></li>
          <li><a href="/v1/#messaging">Messaging</a></li>
          <li><a href="/v1/#serialization">Serialization</a></li>
          <li><a href="/v1/#examples">Examples</a></li>
        </ul>
      </li>
    </ul>
    <ul class="right hide-for-small">
      <img src="/images/boltprotocol.png" style="height: 6rem;margin: 5px 5px 0 0;" />
    </ul>
  </section>
</nav>

<section role="main" class="scroll-container">
  <div class="row">
    <div class="small-12 columns" role="content">
      <h1></h1>
      <div class="sect1">
<h2 id="serialization"><a class="anchor" href="#serialization"></a>Message Serialization</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="overview"><a class="anchor" href="#overview"></a>Overview</h3>
<div class="paragraph">
<p>This section discusses how messages and the database type system are represented by the protocol using a custom binary serialization format.</p>
</div>
<div class="paragraph">
<p>For details on the layout and meaning of specific messages, see <a href="#messaging">[messaging]</a>.</p>
</div>
<table id="type-system-mapping" class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Types overview</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#null">Null</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Represents the absence of a value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#booleans">Boolean</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean true or false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#ints">Integer</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64-bit signed integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#floats">Float</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64-bit floating point number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#strings">String</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UTF-8 encoded strings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#lists">List</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ordered collection of values</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#maps">Map</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unordered, keyed collection of values</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#node-structure">Node</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A node in the graph with optional properties and labels</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#rel-structure">Relationship</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A directed, typed connection between two nodes. Each relationship may have properties and always has an identity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#path-structure">Path</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The record of a directed walk through the graph, a sequence of zero or more segments*. A path with zero segments consists of a single node.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A segment is the record of a single step traversal through a graph, encompassing a start node, a relationship traversed either forwards or backwards and an end node.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="markers"><a class="anchor" href="#markers"></a>Markers</h3>
<div class="paragraph">
<p>Every value begins with a marker byte.
The marker contains information on data type as well as direct or indirect size information for those types that require it.
How that size information is encoded varies by marker type.</p>
</div>
<div class="paragraph">
<p>Some values, such as <code>true</code>, can be encoded within a single marker byte and many small integers (specifically between -16 and +127) are also encoded within a single byte.</p>
</div>
<div class="paragraph">
<p>A number of marker bytes are reserved for future expansion of the format itself.
These bytes should not be used, and encountering them in a stream should treated as an error.</p>
</div>
</div>
<div class="sect2">
<h3 id="sized_values"><a class="anchor" href="#sized_values"></a>Sized Values</h3>
<div class="paragraph">
<p>Some value types require variable length representations and, as such, have their size explicitly encoded.
These values generally begin with a single marker byte followed by a size followed by the data content itself.
Here, the marker denotes both type and scale and therefore determines the number of bytes used to represent the size of the data.
The size itself is either an 8-bit, 16-bit or 32-bit big-endian unsigned integer.</p>
</div>
<div class="paragraph">
<p>The diagram below illustrates the general layout for a sized value, here with a 16-bit size:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/packstream-sized.png" alt="packstream sized"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="null"><a class="anchor" href="#null"></a>Null</h3>
<div class="paragraph">
<p>Null is always encoded using the single marker byte <code>0xC0</code>.</p>
</div>
<div class="listingblock">
<div class="title">Absence of value - null</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: null

C0</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="booleans"><a class="anchor" href="#booleans"></a>Booleans</h3>
<div class="paragraph">
<p>Boolean values are encoded within a single marker byte, using <code>0xC3</code> to denote true and <code>0xC2</code> to denote false.</p>
</div>
<div class="listingblock">
<div class="title">Boolean true</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: true

C3</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Boolean false</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: false

C2</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ints"><a class="anchor" href="#ints"></a>Integers</h3>
<div class="paragraph">
<p>Integer values occupy either 1, 2, 3, 5 or 9 bytes depending on magnitude and are stored as big-endian signed values.
Several markers are designated specifically as <code>TINY_INT</code> values and can therefore be used to pass a small number in a single byte.
These markers can be identified by a zero high-order bit or by a high-order nibble containing only ones.</p>
</div>
<div class="paragraph">
<p>The available encodings are illustrated below and each shows a valid representation for the decimal value 42, with marker bytes in green:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/packstream-integers.png" alt="packstream integers"></span></p>
</div>
<div class="paragraph">
<p>Note that while encoding small numbers in wider formats is supported, it is generally recommended to use the most compact representation possible.
The following table shows the optimal representation for every possible integer:</p>
</div>
<div class="listingblock">
<div class="title">Simple integer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: 1

01</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Min integer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: -9223372036854775808

CB 80 00 00  00 00 00 00  00</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Max integer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: 9223372036854775807

CB 7F FF FF  FF FF FF FF  FF</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Suggested integer representations</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-right valign-top">Range Minimum</th>
<th class="tableblock halign-right valign-top">Range Maximum</th>
<th class="tableblock halign-center valign-top">Suggested representation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">-9 223 372 036 854 775 808</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-2 147 483 649</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>INT_64</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">-2 147 483 648</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-32 769</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>INT_32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">-32 768</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-129</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>INT_16</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">-128</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-17</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>INT_8</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">-16</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">+127</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>TINY_INT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">+128</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">+32 767</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>INT_16</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">+32 768</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">+2 147 483 647</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>INT_32</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">+2 147 483 648</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">+9 223 372 036 854 775 807</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>INT_64</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="floats"><a class="anchor" href="#floats"></a>Floating Point Numbers</h3>
<div class="paragraph">
<p>These are double-precision floating points for approximations of any number, notably for representing fractions and decimal numbers.
Floats are encoded as a single <code>0xC1</code> marker byte followed by 8 bytes, formatted according to the IEEE 754 floating-point "double format" bit layout.</p>
</div>
<div class="paragraph">
<p>Bit 63 (the bit that is selected by the mask <code>0x8000000000000000</code>) represents the sign of the number.</p>
</div>
<div class="paragraph">
<p>Bits 62-52 (the bits that are selected by the mask <code>0x7ff0000000000000</code>) represent the exponent.</p>
</div>
<div class="paragraph">
<p>Bits 51-0 (the bits that are selected by the mask <code>0x000fffffffffffff</code>) represent the significand (sometimes called the mantissa) of the number.</p>
</div>
<div class="listingblock">
<div class="title">Simple floating point</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: 1.1

C1 3F F1 99 99 99 99 99 9A</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Negative floating point</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: -1.1

C1 BF F1 99 99 99 99 99 9A</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="strings"><a class="anchor" href="#strings"></a>String</h3>
<div class="paragraph">
<p>String data is represented as UTF-8 encoded binary data.
Note that sizes used for string are the byte counts of the UTF-8 encoded data, not the character count of the original string.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. String markers</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 50%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Marker</th>
<th class="tableblock halign-left valign-top">Size</th>
<th class="tableblock halign-left valign-top">Maximum data size</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0x80</code>..<code>0x8F</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contained within low-order nibble of marker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15 bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8-bit unsigned integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">255 bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16-bit big-endian unsigned integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">65 535 bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32-bit big-endian unsigned integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 294 967 295 bytes</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="tiny_strings_empty_strings"><a class="anchor" href="#tiny_strings_empty_strings"></a>Tiny Strings &amp; Empty Strings</h4>
<div class="paragraph">
<p>For encoded string containing fewer than 16 bytes, including empty strings, the marker byte should contain the high-order nibble <code>1000</code> followed by a low-order nibble containing the size.
The encoded data then immediately follows the marker.
The example below shows how the string "Hello" would be represented:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/packstream-tinystring.png" alt="packstream tinystring"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="regular_strings"><a class="anchor" href="#regular_strings"></a>Regular Strings</h4>
<div class="paragraph">
<p>For encoded string containing 16 bytes or more, the marker <code>0xD0</code>, <code>0xD1</code> or <code>0xD2</code> should be used, depending on scale.
This marker is followed by the size and the UTF-8 encoded data as in the example below:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/packstream-string.png" alt="packstream string"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="examples"><a class="anchor" href="#examples"></a>Examples</h4>
<div class="listingblock">
<div class="title">Tiny string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: &quot;a&quot;

81 61</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Regular string</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: &quot;abcdefghijklmnopqrstuvwxyz&quot;

D0 1A 61 62  63 64 65 66  67 68 69 6A  6B 6C 6D 6E
6F 70 71 72  73 74 75 76  77 78 79 7A</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">String with special characters</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: &quot;En å flöt över ängen&quot;

D0 18 45 6E  20 C3 A5 20  66 6C C3 B6  74 20 C3 B6
76 65 72 20  C3 A4 6E 67  65 6E</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lists"><a class="anchor" href="#lists"></a>Lists</h3>
<div class="paragraph">
<p>Lists are heterogeneous sequences of values and permit a mixture of types within the same list.
The size of a list denotes the number of items within that list, not the total packed byte size.
The markers used to denote a list are described in the table below:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. List markers</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 50%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Marker</th>
<th class="tableblock halign-left valign-top">Size</th>
<th class="tableblock halign-left valign-top">Maximum list size</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0x90</code>..<code>0x9F</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contained within low-order nibble of marker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15 bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD4</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8-bit unsigned integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">255 items</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD5</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16-bit big-endian unsigned integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">65 535 items</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD6</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32-bit big-endian unsigned integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 294 967 295 items</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="tiny_lists_empty_lists"><a class="anchor" href="#tiny_lists_empty_lists"></a>Tiny Lists &amp; Empty Lists</h4>
<div class="paragraph">
<p>For lists containing fewer than 16 items, including empty lists, the marker byte should contain the high-order nibble <code>1001</code> followed by a low-order nibble containing the size.
The items within the list are then serialised in order  immediately after the marker.</p>
</div>
</div>
<div class="sect3">
<h4 id="regular_lists"><a class="anchor" href="#regular_lists"></a>Regular Lists</h4>
<div class="paragraph">
<p>For lists containing 16 items or more, the marker <code>0xD4</code>, <code>0xD5</code> or <code>0xD6</code> should be used, depending on scale.
This marker is followed by the size and list items, serialized in order.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples_2"><a class="anchor" href="#examples_2"></a>Examples</h4>
<div class="listingblock">
<div class="title">Empty list</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: []

90</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Tiny list</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: [1,2,3]

93 01 02 03</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Regular list</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: [1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9,0]

D4 14 01 02  03 04 05 06  07 08 09 00  01 02 03 04
05 06 07 08  09 00</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="maps"><a class="anchor" href="#maps"></a>Maps</h3>
<div class="paragraph">
<p>Maps are sized sequences of pairs of keys and values and permit a mixture of types within the same map.
The size of a map denotes the number of pairs within that map, not the total packed byte size.
Keys are unique within a map, however the serialization format notably technically allows duplicate keys to be sent.
Though if duplicate keys are sent, this is a violation of the bolt protocol and an error will occur.
The markers used to denote a map are described in the table below:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 5. Map markers</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 50%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Marker</th>
<th class="tableblock halign-left valign-top">Size</th>
<th class="tableblock halign-left valign-top">Maximum map size</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xA0</code>..<code>0xAF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contained within low-order nibble of marker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15 entries</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD8</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8-bit unsigned integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">255 entries</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD9</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16-bit big-endian unsigned integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">65 535 entries</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xDA</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32-bit big-endian unsigned integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 294 967 295 entries</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="tiny_maps_empty_maps"><a class="anchor" href="#tiny_maps_empty_maps"></a>Tiny Maps &amp; Empty Maps</h4>
<div class="paragraph">
<p>For maps containing fewer than 16 key-value pairs, including empty maps, the marker byte should contain the high-order nibble <code>1010</code> followed by a low-order nibble containing the size.
The items within the map are then serialised in key-value-key-value order immediately after the marker.</p>
</div>
</div>
<div class="sect3">
<h4 id="regular_maps"><a class="anchor" href="#regular_maps"></a>Regular Maps</h4>
<div class="paragraph">
<p>For maps containing 16 pairs or more, the marker <code>0xD8</code>, <code>0xD9</code> or <code>0xDA</code> should be used, depending on scale.
This marker is followed by the size and map entries, serialised in key-value-key-value order.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples_3"><a class="anchor" href="#examples_3"></a>Examples</h4>
<div class="listingblock">
<div class="title">Empty map</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: {}

A0</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Tiny map</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: {&quot;a&quot;:1}

A1 81 61 01</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Regular map</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: {&quot;a&quot;:1,&quot;b&quot;:1,&quot;c&quot;:3,&quot;d&quot;:4,&quot;e&quot;:5,&quot;f&quot;:6,&quot;g&quot;:7,&quot;h&quot;:8,&quot;i&quot;:9,&quot;j&quot;:0,&quot;k&quot;:1,&quot;l&quot;:2,&quot;m&quot;:3,&quot;n&quot;:4,&quot;o&quot;:5,&quot;p&quot;:6}

D8 10 81 61  01 81 62 01  81 63 03 81  64 04 81 65
05 81 66 06  81 67 07 81  68 08 81 69  09 81 6A 00
81 6B 01 81  6C 02 81 6D  03 81 6E 04  81 6F 05 81
70 06</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="structures"><a class="anchor" href="#structures"></a>Structures</h3>
<div class="paragraph">
<p>Structures represent composite values and consist, beyond the marker, of a single byte signature followed by a sequence of fields, each an individual value.
The size of a structure is measured as the number of fields, not the total packed byte size.
The markers used to denote a structure are described in the table below:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 6. Structure markers</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 50%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Marker</th>
<th class="tableblock halign-left valign-top">Size</th>
<th class="tableblock halign-left valign-top">Maximum structure size</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xB0</code>..<code>0xBF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">contained within low-order nibble of marker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15 fields</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xDC</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8-bit unsigned integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">255 fields</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xDD</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16-bit big-endian unsigned integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">65 535 fields</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="signature"><a class="anchor" href="#signature"></a>Signature</h4>
<div class="paragraph">
<p>The signature byte is used to identify the type or class of the structure.
Refer to the <a href="#value-structures">Value Structures</a> and <a href="#messages">Message Structures</a> for structures used in the protocol.</p>
</div>
<div class="paragraph">
<p>Signature bytes may hold any value between 0 and +127. Bytes with the high bit set are reserved for future expansion.</p>
</div>
</div>
<div class="sect3">
<h4 id="tiny_structures"><a class="anchor" href="#tiny_structures"></a>Tiny Structures</h4>
<div class="paragraph">
<p>For structures containing fewer than 16 fields, the marker byte should contain the high-order nibble <code>1011</code> followed by a low-order nibble containing the size.
The marker is immediately followed by the signature byte and the field values.</p>
</div>
</div>
<div class="sect3">
<h4 id="regular_structures"><a class="anchor" href="#regular_structures"></a>Regular Structures</h4>
<div class="paragraph">
<p>For structures containing 16 fields or more, the marker <code>0xDC</code> or <code>0xDD</code> should be used, depending on scale.
This marker is followed by the size, the signature byte and the actual fields, serialised in order.</p>
</div>
</div>
<div class="sect3">
<h4 id="examples_4"><a class="anchor" href="#examples_4"></a>Examples</h4>
<div class="paragraph">
<p>Assuming a struct with the signature <code>0x01</code> and three fields with values 1,2,3:</p>
</div>
<div class="listingblock">
<div class="title">Tiny structure</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: Struct (signature=0x01) { 1,2,3 }

B3 01 01 02 03</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Regular structure</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_type">Value: Struct (signature=0x01) { 1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6 }

DC 10 01 01  02 03 04 05  06 07 08 09  00 01 02 03
04 05 06</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="value-structures"><a class="anchor" href="#value-structures"></a>Graph Type Stuctures</h3>
<div class="paragraph">
<p>A number of complex database types are represented as <a href="#structures">Structures</a>.
These include <em>nodes</em>, <em>relationships</em> and <em>paths</em>.</p>
</div>
<div class="sect3">
<h4 id="node-structure"><a class="anchor" href="#node-structure"></a>Node</h4>
<div class="paragraph">
<p>A Node represents a node from a labeled property graph and consists of a unique identifier (within the scope of its origin graph), a list of labels and a map of properties. The general serialised structure is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_value_struct">Node (signature=0x4E) {
    Integer           nodeIdentity
    List&lt;String&gt;        labels
    Map&lt;String, Value&gt;  properties
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="rel-structure"><a class="anchor" href="#rel-structure"></a>Relationship</h4>
<div class="paragraph">
<p>A Relationship represents a relationship from a labeled property graph and consists of a unique identifier (within the scope of its origin graph), identifiers for the start and end nodes of that relationship, a type and a map of properties. The general serialised structure is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_value_struct">Relationship (signature=0x52) {
    Integer             relIdentity
    Integer             startNodeIdentity
    Integer             endNodeIdentity
    String              type
    Map&lt;String, Value&gt;  properties
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="path-structure"><a class="anchor" href="#path-structure"></a>Path</h4>
<div class="paragraph">
<p>A Path is a sequence of alternating nodes and relationships corresponding to a walk in the graph.
The path always begins and ends with a node.
Its representation consists of a list of distinct nodes, a list of distinct relationships and a sequence of integers describing the path traversal.
The general serialised structure is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_value_struct">Path (signature=0x50) {
    List&lt;Node&gt; nodes
    List&lt;UnboundRelationship&gt; relationships
    List&lt;Integer&gt; sequence
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The two lists <code>N</code> and <code>R</code> (short for <code>nodes</code> and <code>relationships</code> in the example above) are defined as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>N</code> contains all the unique nodes in the path</p>
</li>
<li>
<p><code>R</code> contains all the unique relationships in the path</p>
</li>
<li>
<p>For <code>N</code>, the index is an integer commencing with 0 and incrementing by 1</p>
</li>
<li>
<p>For <code>R</code>, the index is an integer commencing with 1 and incrementing by 1</p>
</li>
<li>
<p>The value component for both <code>N</code> and <code>R</code> is the data corresponding to the node or relationship; this comprises the identifier, labels/type, properties etc</p>
</li>
<li>
<p>In <code>N</code>, the first element must <em>always</em> be the first node in the path (thus having 0 as the index)</p>
</li>
<li>
<p>No other <em>explicit</em> rules apply as to either (i) the ordering of the other nodes in <code>N</code>, or (ii) the ordering of any of the relationships in <code>R</code>. However, while not required, it is recommended that implementations aim to list entities (i.e. nodes and relationships) in the order in which they are first encountered while traversing the path. This may help with the efficiency of reading and writing</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When transmitting a path between a server and a client, the path is represented as a sequence of integers; we define <code>S</code> (short for <code>sequence</code> in the example above) as the transmitted sequence, and <code>S'</code> as the full sequence.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>S</code> must always consist of an even number of integers, or be empty</p>
</li>
<li>
<p>The first, third, &#8230;&#8203; integer in <code>S</code> has a range encompassed by (..,-1] and [1,..). These represent the directed relationships in the path</p>
</li>
<li>
<p>The second, fourth, &#8230;&#8203; integer in <code>S</code> has a range encompassed by [0,..). These represent the nodes in the path</p>
</li>
<li>
<p>By definition, the first node in the path will <em>always</em> have an index of 0, so we exclude this from <code>S</code> upon transmission. The idea is to construct <code>S'</code> by prepending 0 to <code>S</code> on the completion of a successful transmission</p>
</li>
<li>
<p>Let a path <code>P</code> be given by the following transmitted sequence [1, 1, -2, 2]. It follows that the corresponding full sequence, <code>S'</code>, is given by [0, 1, 1, -2, 2]</p>
</li>
<li>
<p>The first integer in <code>S</code> (1) is the index in <code>R</code> corresponding to the first relationship in <code>P</code></p>
</li>
<li>
<p>The second integer in <code>S</code> (1) is the index in <code>N</code> corresponding to the second node in <code>P</code></p>
</li>
<li>
<p>The last integer in <code>S</code> (2) is the index in <code>N</code> corresponding to the last node in <code>P</code></p>
</li>
<li>
<p>When a relationship is represented by a positive integer in <code>S</code> - such as the 1 in position 1 - this means that the relationship is being traversed in the direction of the underlying relationship in the data graph</p>
</li>
<li>
<p>When a relationship is represented by a negative integer in <code>S</code> - such as the -2 in position 3 - this means that the relationship is being traversed against the direction of the underlying relationship in the data graph.
For 'loops' - i.e. a relationship beginning and ending at the same node - a positive integer should be used</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Example</div>
<p>Consider the following path:</p>
</div>
<div class="paragraph">
<p><code>(A)-[:X]&#8594;(B)-[:Y]&#8594;&#169;&#8592;[:Z]-(B)&#8592;[:X]-(A)</code></p>
</div>
<div class="paragraph">
<p>The elements transmitted would be as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>N</code>: <code>(A)</code>, <code>(B)</code>, <code>&#169;</code></p>
</li>
<li>
<p><code>R</code>: <code>[:X]</code>, <code>[:Y]</code>, <code>[:Z]</code></p>
</li>
<li>
<p><code>S</code>: [1, 1, 2, 2, -3, 1, -1, 0]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By definition, the following is also implied:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>S'</code>: [0, 1, 1, 2, 2, -3, 1, -1, 0]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Similarly, consider the following zero-length path:</p>
</div>
<div class="paragraph">
<p><code>(A)</code></p>
</div>
<div class="paragraph">
<p>The elements transmitted would be as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>N</code>: <code>(A)</code></p>
</li>
<li>
<p><code>R</code>: &lt;empty&gt;</p>
</li>
<li>
<p><code>S</code>: &lt;empty&gt;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>where the following is implied:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>S'</code>: [0]</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="unbound-rel-structure"><a class="anchor" href="#unbound-rel-structure"></a>UnboundRelationship</h4>
<div class="paragraph">
<p>An UnboundRelationship represents a relationship relative to a separately known start point and end point.
The general serialised structure is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bolt_value_struct">UnboundRelationship (signature=0x72) {
    Integer             relIdentity
    String              type          // e.g. &quot;KNOWS&quot;
    Map&lt;String, Value&gt;  properties    // e.g. {since:1999}
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="marker_table"><a class="anchor" href="#marker_table"></a>Marker table</h3>
<div class="paragraph">
<p>These are all the marker bytes:</p>
</div>
<table id="markers" class="tableblock frame-all grid-all spread">
<caption class="title">Table 7. Marker table</caption>
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 55%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Marker</th>
<th class="tableblock halign-center valign-top">Binary</th>
<th class="tableblock halign-center valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0x00</code>..<code>0x7F</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xxxxxxx</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>+TINY_INT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer 0 to 127</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0x80</code>..<code>0x8F</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1000xxxx</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>TINY_STRING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UTF-8 encoded string (fewer than 2<sup>4</sup> bytes)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0x90</code>..<code>0x9F</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1001xxxx</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>TINY_LIST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List (fewer than 2<sup>4</sup> items)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xA0</code>..<code>0xAF</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1010xxxx</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>TINY_MAP</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map (fewer than 2<sup>4</sup> key-value pairs)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xB0</code>..<code>0xBF</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1011xxxx</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>TINY_STRUCT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Structure (fewer than 2<sup>4</sup> fields)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xC0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11000000</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>NULL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Null</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xC1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11000001</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>FLOAT_64</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64-bit floating point number (double)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xC2</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11000010</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>FALSE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean false</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xC3</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11000011</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>TRUE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean true</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xC4</code>..<code>0xC7</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>110001xx</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reserved</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xC8</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11001000</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>INT_8</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8-bit signed integer</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xC9</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11001001</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>INT_16</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16-bit signed integer</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xCA</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11001010</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>INT_32</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32-bit signed integer</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xCB</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11001011</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>INT_64</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64-bit signed integer</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xCC</code>..<code>0xCF</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11001100</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reserved</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11010000</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>STRING_8</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UTF-8 encoded string (fewer than 2<sup>8</sup> bytes)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11010001</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>STRING_16</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UTF-8 encoded string (fewer than 2<sup>16</sup> bytes)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD2</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11010010</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>STRING_32</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UTF-8 encoded string (fewer than 2<sup>32</sup> bytes)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD3</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11010011</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reserved</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD4</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11010100</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>LIST_8</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List (fewer than 2<sup>8</sup> items)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD5</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11010101</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>LIST_16</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List (fewer than 2<sup>16</sup> items)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD6</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11010110</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>LIST_32</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List (fewer than 2<sup>32</sup> items)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD7</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11010111</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reserved</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD8</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11011000</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>MAP_8</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map (fewer than 2<sup>8</sup> key-value pairs)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xD9</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11011001</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>MAP_16</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map (fewer than 2<sup>16</sup> key-value pairs)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xDA</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11011010</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>MAP_32</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Map (fewer than 2<sup>32</sup> key-value pairs)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xDB</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11011011</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reserved</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xDC</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11011100</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>STRUCT_8</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Structure (fewer than 2<sup>8</sup> fields)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xDD</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>11011101</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>STRUCT_16</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Structure (fewer than 2<sup>16</sup> fields)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xDE</code>..<code>0xEF</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1110xxxx</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reserved</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0xF0</code>..<code>0xFF</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1111xxxx</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>-TINY_INT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer -1 to -16</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
    </div>
  </div>
</section>

<footer class="row">
  <div class="large-12 columns">
    <hr/>
    <div class="row">
      <div class="large-12 columns">
        <p>Licensed under <a href="https://creativecommons.org/licenses/by-sa/3.0/">Creative Commons 3.0 Attribution-ShareAlike</a>.</p>
        <p><a href="https://github.com/neo4j/neo4j/tree/3.0.6/manual/bolt/src/docs/dev">Originally authored</a> by <a href="https://neo4j.com">Neo Technology, Inc.</a>, with modifications to original source for publishing and clarity.</p>
      </div>
    </div>
  </div>
</footer>

<script src="/js/vendor/jquery.js"></script>
<script src="/js/foundation.min.js"></script>
<script>
  $(document).foundation();
</script>
<script src="/js/vendor/jquery.js"></script>
<script src="/js/foundation/foundation.js"></script>
<script>
  $(document).foundation();
  var doc = document.documentElement;
  doc.setAttribute('data-useragent', navigator.userAgent);
</script>
</body>
</html>
